<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js - object array</title>
</head>
<body>
    <h1>Object Array</h1>
    <h2>객체배열</h2>
    <input type="button" value="실행" onclick="test1();">
    <script>
    // 배열인데 요소가 객체인상황
    function test1() {
        var pets = [
            {
                name : '구리구리',
                breed : '푸들',
                weight : 4.5,
                bark : function(){
                    return this.weight > 10 ? '멍멍' : '왈왈';
                }
            },
            {
                name : '까미',
                breed : '요크셔테리어',
                weight : 3,
                bark : function(){
                    return this.weight > 10 ? '멍멍' : '왈왈';
                }
            },
            {
                name : '콩돌',
                breed : '리트리버',
                weight : 25,
                bark : function(){
                    return this.weight > 10 ? '멍멍' : '왈왈';
                }
            }
        ];

        console.log(pets);
        // for(var i=0; i < pets.length; i++){
        //     console.log(pets[i].name);
        // } // 방법1
        // for(var i in pets){
        //     console.log(pets[i].breed);
        // } // 방법2
        // for(var i in pets){
        //     console.log(pets[i]["weight"]);
        // } // 방법3

        for(var i in pets){
            // console.log(pets[i].name);
            pets[i].bark = function(){
                return this.weight > 10 ? '멍멍' : '왈왈';
            };
            console.log(pets[i].name + "이/가 " + pets[i].bark() + " 짖는다.");
        };
    };
    </script>
    
    <h2>생성자함수</h2>
    <input type="button" value="실행" onclick="test2();">
    <script>
    /**
     * (this용법4)생성자함수안의 this는 현재객체를 가리킨다.
     * - 생성자함수의 첫글자는 대문자로 작성하는 것이 관례.
     * - new 연산자와 함께 호출
     */ 
    function Pet(name, breed, weight){
        this.name = name;
        this.breed = breed;
        this.weight = weight;
        // this.bark = function(){
        //    return  this.weight > 10 ? '멍멍' : '왈왈';
        // };
    };
    //Pet의 prototype객체에 중복된 속성/메서드를 작성한다.
    Pet.prototype.bark = function(){
        return this.weight > 10 ? '멍멍' : '왈왈';
    };
    
    function test2() {
        var pets = [ 
            new Pet('구리구리', '푸들', 4.5),
            new Pet('까미', '요크셔테리어', 3),
            new Pet('콩돌', '리트리버', 25),
        ];
        console.log(pets);
        for(var i in pets){
            console.log(pets[i].name + "이/가 " + pets[i].bark() + " 짖는다.");
        }
    }
    </script>
</body>
</html>